# Prompts Específicos para Desenvolvimento

Este documento define prompts específicos e padronizados para interações com a IA em cada etapa do desenvolvimento, garantindo consistência e eficiência.

---

## 1. Criar Entidade

### Prompt:

"Leia o arquivo `project-reference-guide.md` e crie uma nova entidade DDD seguindo os padrões do projeto. Utilize os exemplos fornecidos como referência, seguindo estrutura, métodos e validações. Pergunte caso haja dúvidas sobre as regras de negócio. Importante: sempre refatore completamente o arquivo ao atualizá-lo."

### Arquivos de Referência:

- `src/domain/<domínio>/enterprise/entities/*.entity.ts`
- `prisma/schema.prisma`

---

## 2. Criar Interface e Repositórios (Prisma e In-Memory)

### Prompt:

"Leia o arquivo `project-reference-guide.md` e crie a interface do repositório, a implementação Prisma e a implementação In-Memory, seguindo o padrão existente no projeto. Confirme antes se há métodos específicos que precisam ser incluídos ou excluídos. Importante: sempre refatore completamente os arquivos ao atualizá-los."

### Arquivos de Referência:

- `src/domain/<domínio>/application/repositories/i-*.repository.ts`
- `src/infra/database/prisma/repositories/prisma-*.repository.ts`
- `src/test/repositories/in-memory-*.repository.ts`

---

## 3. Criar Use-Case (DTOs, Schema e Teste Unitário)

### Prompt:

"Leia o arquivo `project-reference-guide.md` e crie um novo Use-Case, incluindo DTOs necessários, schema de validação Zod, e testes unitários abrangendo casos de erro, edge cases e inputs inválidos. Antes de iniciar, valide se todos os métodos necessários existem nos repositórios, e caso necessário, sugira métodos adicionais. Importante: sempre refatore completamente os arquivos ao atualizá-los."

### Arquivos de Referência:

- `src/domain/<domínio>/application/use-cases/*.use-case.ts`
- `src/domain/<domínio>/application/dtos/*.dto.ts`
- `src/domain/<domínio>/application/use-cases/validations/*.schema.ts`
- `src/domain/<domínio>/application/use-cases/*.use-case.spec.ts`
- `src/domain/<domínio>/application/repositories/i-*.repository.ts`
- `src/infra/database/prisma/repositories/prisma-*.repository.ts`
- `src/test/repositories/in-memory-*.repository.ts`

---

## 4. Criar Controller e Teste Unitário da Rota

### Prompt:

"Leia o arquivo `project-reference-guide.md` e crie ou atualize o Controller e a rota associada ao Use-Case especificado. Inclua as validações usando class-validator e crie os testes unitários para a rota. 

**Estrutura de testes:** Se ainda não existir, crie o diretório `shared/` dentro de `src/infra/controllers/tests/<controller-name>/` contendo:
- `*-controller-test-setup.ts` (configuração de mocks e instâncias)
- `*-controller-test-helpers.ts` (métodos auxiliares para testes)
- `*-controller-test-data.ts` (dados de teste organizados)

Crie um arquivo específico para cada verbo HTTP (ex: `get-*.controller.spec.ts`, `post-*.controller.spec.ts`, `put-*.controller.spec.ts`, `delete-*.controller.spec.ts`) seguindo o padrão estabelecido no projeto.

Importante: sempre refatore completamente os arquivos ao atualizá-los."

### Arquivos de Referência:

- `src/infra/controllers/*.controller.ts`
- `src/infra/controllers/tests/<controller-name>/shared/*.ts`
- `src/infra/controllers/tests/<controller-name>/<verb>-*.controller.spec.ts`

---

## 5. Criar Teste E2E

### Prompt:

"Leia o arquivo `project-reference-guide.md` e crie um teste E2E completo usando Vitest e Supertest para a nova rota criada. Garanta que cubra o fluxo feliz, cenários de erro e validações detalhadas. 

**Estrutura de testes E2E:** Se ainda não existir, crie o diretório `<controller-name>/` dentro de `test/e2e/` contendo:
- `shared/` com arquivos auxiliares para setup, helpers e dados de teste
- Um arquivo específico para cada verbo HTTP (ex: `get-*.e2e.spec.ts`, `post-*.e2e.spec.ts`, `put-*.e2e.spec.ts`, `delete-*.e2e.spec.ts`)

Antes de iniciar, confirme os cenários obrigatórios a serem testados. Importante: sempre refatore completamente o arquivo ao atualizá-lo."

### Arquivos de Referência:

- `test/e2e/<controller-name>/<verb>-*.e2e.spec.ts`
- `test/e2e/<controller-name>/shared/*.ts`
- `test/e2e/shared/*.ts` (utilitários globais)

---

## Checklist para todos os Prompts:

Antes de começar, sempre confirme:

- Exemplos e contexto já fornecidos.
- Dúvidas sobre regras específicas de negócio.
- Escopo detalhado e métodos necessários.
