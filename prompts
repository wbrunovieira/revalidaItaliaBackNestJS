# Prompts Específicos para Desenvolvimento

Este documento define prompts específicos e padronizados para interações com a IA em cada etapa do desenvolvimento, garantindo consistência e eficiência.

---

## 1. Criar Entidade

### Prompt:

"Leia o arquivo `project-reference-guide.md` e crie uma nova entidade DDD seguindo os padrões do projeto. Utilize os exemplos fornecidos como referência, seguindo estrutura, métodos e validações. Pergunte caso haja dúvidas sobre as regras de negócio. Importante: sempre refatore completamente o arquivo ao atualizá-lo."

### Arquivos de Referência:

- `src/domain/<domínio>/enterprise/entities/*.entity.ts`
- `prisma/schema.prisma`

---

## 2. Criar Interface e Repositórios (Prisma e In-Memory)

### Prompt:

"Leia o arquivo `project-reference-guide.md` e crie a interface do repositório, a implementação Prisma e a implementação In-Memory, seguindo o padrão existente no projeto. Confirme antes se há métodos específicos que precisam ser incluídos ou excluídos. Importante: sempre refatore completamente os arquivos ao atualizá-los."

### Arquivos de Referência:

- `src/domain/<domínio>/application/repositories/i-*.repository.ts`
- `src/infra/database/prisma/repositories/prisma-*.repository.ts`
- `src/test/repositories/in-memory-*.repository.ts`

---

## 3. Criar Use-Case (DTOs, Schema e Teste Unitário)

### Prompt:

"Leia o arquivo `project-reference-guide.md` e crie um novo Use-Case, incluindo DTOs necessários, schema de validação Zod, e testes unitários abrangendo casos de erro, edge cases e inputs inválidos. Antes de iniciar, valide se todos os métodos necessários existem nos repositórios, e caso necessário, sugira métodos adicionais.

**Após a criação:**

1. **Registrar no Module:** Adicione o Use-Case no module correspondente seguindo o padrão do projeto
2. **Executar teste:** Execute o teste com o comando `docker exec -it ead-backend-dev sh -c "pnpm test src/path/to/use-case.spec.ts"`

Importante: sempre refatore completamente os arquivos ao atualizá-los."

### Arquivos de Referência:

- `src/domain/<domínio>/application/use-cases/*.use-case.ts`
- `src/domain/<domínio>/application/dtos/*.dto.ts`
- `src/domain/<domínio>/application/use-cases/validations/*.schema.ts`
- `src/domain/<domínio>/application/use-cases/*.use-case.spec.ts`
- `src/domain/<domínio>/application/repositories/i-*.repository.ts`
- `src/infra/database/prisma/repositories/prisma-*.repository.ts`
- `src/test/repositories/in-memory-*.repository.ts`

---

## 4. Criar Controller e Teste Unitário da Rota

### Prompt:

---

## 5. Criar Teste E2E

### Prompt:

"Leia o arquivo `project-reference-guide.md` e crie um teste E2E completo usando Vitest e Supertest para a nova rota criada. Garanta que cubra o fluxo feliz, cenários de erro e validações detalhadas.

**Estrutura de testes E2E:** Se ainda não existir, crie o diretório `<controller-name>/` dentro de `test/e2e/` contendo:

- `shared/` com arquivos auxiliares para setup, helpers e dados de teste
- Um arquivo específico para cada verbo HTTP (ex: `get-*.e2e.spec.ts`, `post-*.e2e.spec.ts`, `put-*.e2e.spec.ts`, `delete-*.e2e.spec.ts`)

**Tarefa final:** Executar o teste com o comando `docker exec -it ead-backend-dev sh -c "pnpm test:e2e test/e2e/controller-name/verb-endpoint.e2e.spec.ts"`

Antes de iniciar, confirme os cenários obrigatórios a serem testados. Importante: sempre refatore completamente o arquivo ao atualizá-lo."

### Arquivos de Referência:

- `test/e2e/<controller-name>/<verb>-*.e2e.spec.ts`
- `test/e2e/<controller-name>/shared/*.ts`promp
- `test/e2e/shared/*.ts` (utilitários globais)

Antes de começar, sempre confirme:

- Exemplos e contexto já fornecidos.
- Dúvidas sobre regras específicas de negócio.
- Escopo detalhado e métodos necessários.

---

## Checklist para todos os Prompts:

Antes de começar, sempre confirme:

- Exemplos e contexto já fornecidos.
- Dúvidas sobre regras específicas de negócio.
- Escopo detalhado e métodos necessários.
